# Calibre E-book Server and Calibre-Web Stack
# Environment variables for Portainer deployment

# Timezone
TZ=America/New_York

# User/Group IDs (match host user for proper file permissions)
PUID=1000
PGID=1000

# Port Assignments (VM 103)
# Calibre Server GUI (VNC-based management interface)
CALIBRE_GUI_PORT=8265
# Calibre Server (internal server port)
CALIBRE_SERVER_PORT=8266
# Calibre-Web (modern reading interface)
CALIBRE_WEB_PORT=8267

# Storage Paths
# Calibre server configuration (VM disk - fast, small)
CALIBRE_CONFIG_PATH=/home/evan/.config/calibre

# Calibre-Web configuration (VM disk - fast, small)
CALIBRE_WEB_CONFIG_PATH=/home/evan/.config/calibre-web

# Calibre library (VM disk - local for SQLite database reliability)
# NOTE: Calibre's SQLite database has locking issues over NFS/CIFS network mounts
# Storing locally ensures reliability. Books will still be copied here from NAS source.
# Current VM has 65GB free - sufficient for typical ebook library.
CALIBRE_LIBRARY_PATH=/home/evan/calibre-library

# Source directories (read-only, on NAS)
# Existing book collection for import
BOOKS_PATH=/mnt/video/Books
# Kindle backups for future conversion (OUT OF SCOPE for IN-041)
KINDLE_PATH=/mnt/video/Kindle

# Optional: Calibre GUI password protection
# Leave empty for no password, or set a password for VNC access
CALIBRE_PASSWORD=

# Optional: Calibre CLI arguments
# Advanced configuration options (rarely needed)
CALIBRE_CLI_ARGS=

# Optional: Calibre-Web Docker mods
# Adds Calibre tools to Calibre-Web container for better compatibility
CALIBRE_WEB_DOCKER_MODS=linuxserver/mods:universal-calibre

# Resource Limits
CALIBRE_MEMORY_LIMIT=2G
CALIBRE_WEB_MEMORY_LIMIT=1G
