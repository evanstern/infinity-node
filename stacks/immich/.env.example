# Immich Environment Configuration
# Service: Immich (Photo and Video Management)
# VM: 103 (misc)
# Generated: 2025-10-26
# Documentation: https://immich.app/docs/install/environment-variables

# ==============================================================================
# STORAGE PATHS
# ==============================================================================

# Upload location (photos and videos)
UPLOAD_LOCATION=/mnt/video/Photos/

# Database storage location
DB_DATA_LOCATION=./postgres

# ==============================================================================
# SERVER CONFIGURATION
# ==============================================================================

# Server port (external)
SERVER_PORT=2283

# Timezone
# See: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones#List
TZ=America/New_York

# Immich version (default: release for latest stable)
# Can pin to specific version like "v1.71.0"
IMMICH_VERSION=release

# ==============================================================================
# HARDWARE ACCELERATION
# ==============================================================================

# Video transcoding hardware acceleration
# Options: cpu, nvenc (NVIDIA), quicksync (Intel), rkmpp, vaapi, vaapi-wsl
TRANSCODING_HARDWARE=cpu

# ==============================================================================
# SECRETS (Store in Vaultwarden)
# ==============================================================================

# PostgreSQL password
# Retrieve from: infinity-node/vm-103-misc/immich-secrets
# Command: bw get item immich-secrets --field db_password
# Current value: chem7gallo4tolerant6goofy
DB_PASSWORD=PLACEHOLDER_RETRIEVE_FROM_VAULTWARDEN

# ==============================================================================
# DATABASE CONFIGURATION (DO NOT CHANGE)
# ==============================================================================

# PostgreSQL username (default, do not change)
DB_USERNAME=postgres

# PostgreSQL database name (default, do not change)
DB_DATABASE_NAME=immich

# ==============================================================================
# VAULTWARDEN STORAGE
# ==============================================================================
# Store secrets in Vaultwarden using:
#
# export BW_SESSION=$(bw unlock --raw)
#
# ./scripts/create-secret.sh "immich-secrets" "vm-103-misc" "" \
#   '{"service":"immich","vm":"103","db_password":"chem7gallo4tolerant6goofy"}'
#
# Retrieve secrets using:
# bw get item immich-secrets --field db_password
