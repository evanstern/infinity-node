# Downloads Stack Environment Configuration
# VPN-protected torrent and usenet downloading
# Copy this file to .env and update the values for your environment

# Timezone
TZ=America/Toronto

# User/Group IDs for file permissions
PUID=1000
PGID=1000

# NordLynx VPN Configuration
# IMPORTANT: All download traffic routes through VPN - acts as kill switch
PRIVATE_KEY=your_nordvpn_wireguard_private_key_here
NET_LOCAL=192.168.86.0/24

# NZBGet Configuration
NZBGET_USER=your_nzbget_username
NZBGET_PASS=your_nzbget_password

# Deluge Configuration
DELUGE_LOGLEVEL=error

# Path Configuration
NZBGET_CONFIG_PATH=./nzbget
DELUGE_CONFIG_PATH=./deluge
INCOMPLETE_PATH=/media/downloads
COMPLETE_PATH=/mnt/complete

# Ports
WEBUI_PORT=8112   # Deluge web UI
TORRENT_PORT=6881 # BitTorrent port
NZBGET_PORT=6789  # NZBGet web UI

# Secrets Management
# Store actual secrets in Vaultwarden: infinity-node/vm-101-downloads/downloads-credentials
#
# Required secrets:
# - PRIVATE_KEY: NordVPN WireGuard private key
#   Location: Vaultwarden item "downloads-credentials"
#   Field: "private_key"
#   How to get: Generate from NordVPN account dashboard
#
# - NZBGET_USER: NZBGet web UI username
#   Location: Vaultwarden item "downloads-credentials"
#   Field: "nzbget_user"
#
# - NZBGET_PASS: NZBGet web UI password
#   Location: Vaultwarden item "downloads-credentials"
#   Field: "nzbget_pass"
#
# Retrieve from Vaultwarden:
#   export BW_SESSION=$(bw unlock --raw)
#   PRIVATE_KEY=$(bw get item downloads-credentials | jq -r '.fields[] | select(.name=="private_key") | .value')
#   NZBGET_USER=$(bw get item downloads-credentials | jq -r '.fields[] | select(.name=="nzbget_user") | .value')
#   NZBGET_PASS=$(bw get item downloads-credentials | jq -r '.fields[] | select(.name=="nzbget_pass") | .value')

# Notes:
# - INCOMPLETE_PATH and COMPLETE_PATH should be accessible to arr services (VM 102)
# - VPN connection required - if VPN fails, downloads stop (kill switch protection)
# - Local network (NET_LOCAL) must be set correctly for web UI access
# - PRIVATE_KEY must be kept secret - rotates if changed in NordVPN account
