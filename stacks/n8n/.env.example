# n8n Environment Configuration
# Service: n8n (Workflow Automation)
# VM: 103 (misc)
# Generated: 2025-12-12
# Documentation: https://docs.n8n.io/

# ==============================================================================
# CORE SETTINGS
# ==============================================================================

# Timezone (default: America/New_York)
TZ=America/New_York

# n8n host (without protocol, used for UI display)
N8N_HOST=n8n.local.infinity-node.win

# Webhook URL (full URL including protocol)
# Used for webhook nodes and external integrations
WEBHOOK_URL=https://n8n.local.infinity-node.win

# ==============================================================================
# SECRETS (Store in Vaultwarden)
# ==============================================================================

# Encryption key for credentials stored in n8n
# IMPORTANT: This key encrypts all stored credentials. If lost, all credentials
# must be re-entered. Generate with: openssl rand -hex 32
# Retrieve from: infinity-node/vm-103-misc/n8n-secrets
# Field: encryption_key
N8N_ENCRYPTION_KEY=PLACEHOLDER_RETRIEVE_FROM_VAULTWARDEN

# PostgreSQL password
# Retrieve from: infinity-node/vm-103-misc/n8n-secrets
# Field: postgres_password
POSTGRES_PASSWORD=PLACEHOLDER_RETRIEVE_FROM_VAULTWARDEN

# ==============================================================================
# DATABASE SETTINGS
# ==============================================================================

# PostgreSQL user (default: n8n)
POSTGRES_USER=n8n

# PostgreSQL database name (default: n8n)
POSTGRES_DB=n8n

# ==============================================================================
# OPTIONAL: PERFORMANCE SETTINGS
# ==============================================================================

# Enable task runners for better performance (true/false)
# Useful for heavy workflows with many executions
# N8N_RUNNERS_ENABLED=false

# ==============================================================================
# VAULTWARDEN STORAGE
# ==============================================================================
# Store secrets in Vaultwarden using:
#
# export BW_SESSION=$(bw unlock --raw)
#
# Generate secrets:
#   ENCRYPTION_KEY=$(openssl rand -hex 32)
#   POSTGRES_PASSWORD=$(openssl rand -base64 24 | tr -d '=/+' | head -c 24)
#
# Create Vaultwarden entry:
# ./scripts/secrets/create-vw-secret.sh "n8n-secrets" "shared" "" \
#   '{"service":"n8n","vm":"103","encryption_key":"<generated>","postgres_password":"<generated>"}'
#
# Retrieve secrets using:
# ./scripts/secrets/get-vw-secret.sh "n8n-secrets" "shared" "encryption_key"
# ./scripts/secrets/get-vw-secret.sh "n8n-secrets" "shared" "postgres_password"
