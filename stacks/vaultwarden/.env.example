# Vaultwarden Environment Configuration
# Service: Vaultwarden Password Manager
# VM: 103 (misc)
# Generated: 2025-10-26

# ==============================================================================
# SECRETS - Stored in Vaultwarden
# ==============================================================================
# Vaultwarden path: vm-103-misc/vaultwarden-admin-token
# Retrieve using: bw get password "vaultwarden-admin-token"

# Admin Token
# Used for: Administrative access to /admin panel
# Generate with: openssl rand -base64 32
ADMIN_TOKEN=your_admin_token_here

# ==============================================================================
# NON-SECRET CONFIGURATION
# ==============================================================================

# Server Settings
# Public URL for the Vaultwarden instance
DOMAIN=https://vaultwarden.infinity-node.com

# Web Interface Port
# Port on host to expose Vaultwarden
PORT=8111

# Data Storage
# Local directory for Vaultwarden data (database, attachments)
DATA_PATH=./vw-data

# ==============================================================================
# OPTIONAL SETTINGS (Uncomment to enable)
# ==============================================================================

# Allow New Signups
# Set to false to disable new user registrations
# SIGNUPS_ALLOWED=true

# Require Email Verification for Signups
# SIGNUPS_VERIFY=true

# Whitelist Domains for Signups
# Comma-separated list of allowed email domains
# SIGNUPS_DOMAINS_WHITELIST=example.com,another-example.com

# SMTP Configuration (for email notifications)
# SMTP_HOST=smtp.gmail.com
# SMTP_FROM=vaultwarden@infinity-node.com
# SMTP_PORT=587
# SMTP_SSL=true
# SMTP_USERNAME=your_email@gmail.com
# SMTP_PASSWORD=your_app_password  # Store in Vaultwarden!

# Enable/Disable Web Vault
# Set to false to disable the web interface (API only)
# WEB_VAULT_ENABLED=true

# ==============================================================================
# DEPLOYMENT NOTES
# ==============================================================================

# Retrieving Secrets from Vaultwarden:
#
# 1. Unlock vault:
#    export BW_SESSION=$(bw unlock --raw)
#
# 2. Retrieve admin token:
#    ADMIN_TOKEN=$(bw get password "vaultwarden-admin-token")
#
# 3. Create .env file:
#    cp .env.example .env
#    # Then edit .env with actual values

# ==============================================================================
# SECURITY NOTES
# ==============================================================================
#
# - ADMIN_TOKEN is required for /admin panel access
# - Generate a strong random token (32+ characters)
# - Store in Vaultwarden under vm-103-misc/vaultwarden-admin-token
# - Never commit actual .env file to git
# - Restrict /admin panel access via firewall if possible
